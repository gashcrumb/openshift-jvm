{"version":3,"sources":["/source/openshift-jvm/ts/openshiftJvmPlugin.ts","app.js","/source/openshift-jvm/ts/mainController.ts"],"names":["OpenshiftJvm","pluginName","log","Logger","get","templatePath","version","prefs","_module","$scope","info","hawtioPluginLoader","$","ajax","url","success","name","next","error","jqXHR","text","status","debug","dataType","addModule","controller","ConnectOptions","containerName","returnTo","goBack","window","location","href","angular","module","run","$templateCache","put"],"mappings":"AAMA,GAAGA,eACH,SAAAA,GACGA,EAAAC,WAAA,gBACHD,EAAAE,IAAAC,OAAAC,IAAAJ,EAAAC,YACAD,EAAAK,aAAA,6BACAL,EAAAM,YACAN,eAAAA,iBCyDA,IAAIA,eACJ,SAAWA,GACPA,EDrCEA,QAAAA,QAAAA,OAAAA,EAAAA,eAEJA,EAAAA,QAAQA,KAAAA,YAAWA,sBAAqBA,SAAAA,EAAAA,GACtCA,EAAOA,GAAIA,cAAGA,QAAAA,QAAQA,EAAAA,WAAAA,SAAAA,GACrBA,EAAAA,QAAAA,SAAAA,GAEHA,OAAmBA,EAAAA,IACVA,IAAAA,MACAA,IAAAA,OACIA,EAACA,QAAIA,WAAAA,OAAAA,QCuCRO,EDpCFP,OAAOA,SAAMA,EAAAA,QAAAA,KAAAA,WAAAA,KAAAA,EAAAA,aAAAA,eCqCXA,EDpCFA,IAAAA,KAAAA,qBAAUA,EAAAA,QAAAA,SCqCRA,EDpCAA,IAAIA,KAAEA,cAAeA,EAAAA,QAAAA,aCsC7BA,EAAaQ,QDpCLR,WAAAA,aAAAA,SAAAA,GCqCJS,EAAOC,KDpCNV,EAAAA,UCsCLW,mBDpCGX,yBAAAA,SAAAA,GCqCCY,EAAEC,MACEC,IDpCJd,eCqCIe,QDpCAf,SAAGA,GACRA,IACOA,EAAQA,QAAAA,QAAAA,SAAAA,GAEjBA,MAAAA,GAGHA,EAA6BA,SA9CxBgB,KAAA,gBCkFiBV,QAAS,ICjG9BW,KAEHC,MAAA,SAAAC,EAAAC,EAAAC,GACArB,EAAAE,IAAAoB,MAAA,mCAA2CH,EAAA,UAAAC,EAAA,YAAAC,GACxCJ,KAEAM,SAAA,WAGHZ,mBAAAa,UAAAxB,EAAAC,aACAD,eAAAA,iBDqHA,IAAIA,eACJ,SAAWA,GACPA,EAAaQ,QAAQiB,WAAW,+BAAgC,SAAU,iBAAkB,SAAUhB,EAAQiB,GACtGjB,EAAOkB,cAAgBD,EAAeV,MAAQ,qBAC1CU,EAAeE,WACfnB,EAAOoB,OAAS,WACZ7B,EAAaE,IAAIoB,MAAM,oBAAqBI,GAC5CI,OAAOC,SAASC,KAAON,EAAeE,eAIvD5B,eAAiBA,kBAGpBiC,QAAQC,OAAO,8BAA+BC,KAAK,iBAAkB,SAASC,GAAiBA,EAAeC,IAAI,wCAAwC,oeAA4e1B,mBAAmBa,UAAU","file":"app-46ac0ea75b.js","sourcesContent":["/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates\n/// and other contributors as indicated by the @author tags.\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///   http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n\n/// <reference path=\"../../includes.ts\"/>\n/// <reference path=\"openshiftJvmGlobals.ts\"/>\nmodule OpenshiftJvm {\n\n  export var _module = angular.module(pluginName, []);\n\n  _module.run([\"HawtioNav\", \"preferencesRegistry\", (nav:HawtioMainNav.Registry, prefs) => {\n    nav.on(HawtioMainNav.Actions.CHANGED, pluginName, (items) => {\n      items.forEach((item) => {\n        switch(item.id) {\n          case 'jvm':\n          case 'wiki':\n            item.isValid = () => false;\n        }\n      });\n    });\n    prefs.addTab('About ' + version.name, UrlHelpers.join(templatePath, 'about.html'));\n    log.info(\"started, version: \", version.version);\n    log.info(\"commit ID: \", version.commitId);\n  }]);\n\n  _module.controller('Main.About', ($scope) => {\n    $scope.info = version;\n  });\n\n  hawtioPluginLoader.registerPreBootstrapTask((next) => {\n    $.ajax({\n      url: 'version.json', \n      success: (data) => {\n        try {\n          version = angular.fromJson(data);\n        } catch (err) {\n          version = {\n            name: 'openshift-jvm',\n            version: ''\n          };\n        }\n        next();\n      },\n      error: (jqXHR, text, status) => {\n        log.debug(\"Failed to fetch version: jqXHR: \", jqXHR, \" text: \", text, \" status: \", status);\n        next();\n      },\n      dataType: \"html\"\n    });\n  });\n\n\n  hawtioPluginLoader.addModule(pluginName);\n}\n",null,"/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates\n/// and other contributors as indicated by the @author tags.\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///   http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n\n/// <reference path=\"openshiftJvmPlugin.ts\"/>\nmodule OpenshiftJvm {\n\n  _module.controller(\"OpenshiftJvm.MainController\", ['$scope', 'ConnectOptions', ($scope, ConnectOptions) => {\n    $scope.containerName = ConnectOptions.name || \"Untitled Container\";\n    if (ConnectOptions.returnTo) {\n      $scope.goBack = () => {\n        log.debug(\"Connect options: \", ConnectOptions);\n        window.location.href = ConnectOptions.returnTo;\n      };\n    }\n  }]);\n\n}\n"],"sourceRoot":"/source/"}