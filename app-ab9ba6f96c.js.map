{"version":3,"sources":["/source/openshift-jvm/ts/openshiftJvmGlobals.ts","/source/openshift-jvm/ts/openshiftJvmPlugin.ts","/source/openshift-jvm/ts/mainController.ts","app.js"],"names":["OpenshiftJvm","angular","module","run","$templateCache","put","hawtioPluginLoader","addModule"],"mappings":"AAgBA,GAAOA,eAAP,SAAOA,GACMA,EAAAA,WAAaA,gBACbA,EAAAA,IAAsBA,OAAOA,IAAIA,EAAAA,YACjCA,EAAAA,aAAeA,6BACfA,EAAAA,YAJNA,eAAAA,iBCCP,IAAOA,eAAP,SAAOA,GAEMA,EAAAA,QAAUA,QAAQA,OAAOA,EAAAA,eAEpCA,EAAAA,QAAQA,KAAKA,YAAaA,sBAAuBA,SAACA,EAA4BA,GAC5EA,EAAIA,GAAGA,cAAcA,QAAQA,QAASA,EAAAA,WAAYA,SAACA,GACjDA,EAAMA,QAAQA,SAACA,GACbA,OAAOA,EAAKA,IACVA,IAAKA,MACLA,IAAKA,OACHA,EAAKA,QAAUA,WAAMA,OAAAA,QAI7BA,EAAMA,OAAOA,SAAWA,EAAAA,QAAQA,KAAMA,WAAWA,KAAKA,EAAAA,aAAcA,eACpEA,EAAAA,IAAIA,KAAKA,qBAAsBA,EAAAA,QAAQA,SACvCA,EAAAA,IAAIA,KAAKA,cAAeA,EAAAA,QAAQA,aAGlCA,EAAAA,QAAQA,WAAWA,cAAcA,SAACA,SAAMA,GACtCA,EAAOA,KAAOA,EAAAA,WAGhBA,mBAAmBA,yBAAyBA,SAACA,GAC3CA,EAAEA,MACAA,IAAKA,oBAAsBA,KAAKA,MAChCA,QAASA,SAACA,GACRA,IACEA,EAAAA,QAAUA,QAAQA,SAASA,GAC3BA,MAAOA,GACPA,EAAAA,SACEA,KAAMA,gBACNA,QAASA,IAGbA,KAEFA,MAAOA,SAACA,EAAOA,EAAMA,GACnBA,EAAAA,IAAIA,MAAMA,mCAAoCA,EAAOA,UAAWA,EAAMA,YAAaA,GACnFA,KAEFA,SAAUA,WAKdA,mBAAmBA,UAAUA,EAAAA,aA9CxBA,eAAAA,iBCDP,IAAOA,eAAP,SAAOA,GAELA,EAAAA,QAAQA,WAAWA,+BAAgCA,SAAUA,iBAAkBA,SAACA,EAAQA,GACtFA,EAAOA,cAAgBA,EAAeA,MAAQA,qBAC1CA,EAAeA,WACjBA,EAAOA,OAASA,WACdA,EAAAA,IAAIA,MAAMA,oBAAqBA,GAC/BA,OAAOA,SAASA,KAAOA,EAAeA,eAPvCA,eAAAA,kBCqDPC,QAAQC,OAAO,8BAA+BC,KAAK,iBAAkB,SAASC,GAAiBA,EAAeC,IAAI,wCAAwC,oeAA4eC,mBAAmBC,UAAU","file":"app-ab9ba6f96c.js","sourcesContent":["/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates\n/// and other contributors as indicated by the @author tags.\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///   http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n\n/// <reference path=\"../../includes.ts\"/>\nmodule OpenshiftJvm {\n  export var pluginName = \"openshift-jvm\";\n  export var log: Logging.Logger = Logger.get(pluginName);\n  export var templatePath = \"plugins/openshift-jvm/html\";\n  export var version:any = {};\n}\n","/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates\n/// and other contributors as indicated by the @author tags.\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///   http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n\n/// <reference path=\"../../includes.ts\"/>\n/// <reference path=\"openshiftJvmGlobals.ts\"/>\nmodule OpenshiftJvm {\n\n  export var _module = angular.module(pluginName, []);\n\n  _module.run([\"HawtioNav\", \"preferencesRegistry\", (nav:HawtioMainNav.Registry, prefs) => {\n    nav.on(HawtioMainNav.Actions.CHANGED, pluginName, (items) => {\n      items.forEach((item) => {\n        switch(item.id) {\n          case 'jvm':\n          case 'wiki':\n            item.isValid = () => false;\n        }\n      });\n    });\n    prefs.addTab('About ' + version.name, UrlHelpers.join(templatePath, 'about.html'));\n    log.info(\"started, version: \", version.version);\n    log.info(\"commit ID: \", version.commitId);\n  }]);\n\n  _module.controller('Main.About', ($scope) => {\n    $scope.info = version;\n  });\n\n  hawtioPluginLoader.registerPreBootstrapTask((next) => {\n    $.ajax({\n      url: 'version.json?rev=' + Date.now(), \n      success: (data) => {\n        try {\n          version = angular.fromJson(data);\n        } catch (err) {\n          version = {\n            name: 'openshift-jvm',\n            version: ''\n          };\n        }\n        next();\n      },\n      error: (jqXHR, text, status) => {\n        log.debug(\"Failed to fetch version: jqXHR: \", jqXHR, \" text: \", text, \" status: \", status);\n        next();\n      },\n      dataType: \"html\"\n    });\n  });\n\n\n  hawtioPluginLoader.addModule(pluginName);\n}\n","/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates\n/// and other contributors as indicated by the @author tags.\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///   http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n\n/// <reference path=\"openshiftJvmPlugin.ts\"/>\nmodule OpenshiftJvm {\n\n  _module.controller(\"OpenshiftJvm.MainController\", ['$scope', 'ConnectOptions', ($scope, ConnectOptions) => {\n    $scope.containerName = ConnectOptions.name || \"Untitled Container\";\n    if (ConnectOptions.returnTo) {\n      $scope.goBack = () => {\n        log.debug(\"Connect options: \", ConnectOptions);\n        window.location.href = ConnectOptions.returnTo;\n      };\n    }\n  }]);\n\n}\n","\n\nvar OpenshiftJvm;\n(function (OpenshiftJvm) {\n    OpenshiftJvm.pluginName = \"openshift-jvm\";\n    OpenshiftJvm.log = Logger.get(OpenshiftJvm.pluginName);\n    OpenshiftJvm.templatePath = \"plugins/openshift-jvm/html\";\n    OpenshiftJvm.version = {};\n})(OpenshiftJvm || (OpenshiftJvm = {}));\n\nvar OpenshiftJvm;\n(function (OpenshiftJvm) {\n    OpenshiftJvm._module = angular.module(OpenshiftJvm.pluginName, []);\n    OpenshiftJvm._module.run([\"HawtioNav\", \"preferencesRegistry\", function (nav, prefs) {\n            nav.on(HawtioMainNav.Actions.CHANGED, OpenshiftJvm.pluginName, function (items) {\n                items.forEach(function (item) {\n                    switch (item.id) {\n                        case 'jvm':\n                        case 'wiki':\n                            item.isValid = function () { return false; };\n                    }\n                });\n            });\n            prefs.addTab('About ' + OpenshiftJvm.version.name, UrlHelpers.join(OpenshiftJvm.templatePath, 'about.html'));\n            OpenshiftJvm.log.info(\"started, version: \", OpenshiftJvm.version.version);\n            OpenshiftJvm.log.info(\"commit ID: \", OpenshiftJvm.version.commitId);\n        }]);\n    OpenshiftJvm._module.controller('Main.About', [\"$scope\", function ($scope) {\n        $scope.info = OpenshiftJvm.version;\n    }]);\n    hawtioPluginLoader.registerPreBootstrapTask(function (next) {\n        $.ajax({\n            url: 'version.json?rev=' + Date.now(),\n            success: function (data) {\n                try {\n                    OpenshiftJvm.version = angular.fromJson(data);\n                }\n                catch (err) {\n                    OpenshiftJvm.version = {\n                        name: 'openshift-jvm',\n                        version: ''\n                    };\n                }\n                next();\n            },\n            error: function (jqXHR, text, status) {\n                OpenshiftJvm.log.debug(\"Failed to fetch version: jqXHR: \", jqXHR, \" text: \", text, \" status: \", status);\n                next();\n            },\n            dataType: \"html\"\n        });\n    });\n    hawtioPluginLoader.addModule(OpenshiftJvm.pluginName);\n})(OpenshiftJvm || (OpenshiftJvm = {}));\n\nvar OpenshiftJvm;\n(function (OpenshiftJvm) {\n    OpenshiftJvm._module.controller(\"OpenshiftJvm.MainController\", ['$scope', 'ConnectOptions', function ($scope, ConnectOptions) {\n            $scope.containerName = ConnectOptions.name || \"Untitled Container\";\n            if (ConnectOptions.returnTo) {\n                $scope.goBack = function () {\n                    OpenshiftJvm.log.debug(\"Connect options: \", ConnectOptions);\n                    window.location.href = ConnectOptions.returnTo;\n                };\n            }\n        }]);\n})(OpenshiftJvm || (OpenshiftJvm = {}));\n\n\nangular.module(\"openshift-jvm-templates\", []).run([\"$templateCache\", function($templateCache) {$templateCache.put(\"plugins/openshift-jvm/html/about.html\",\"<div ng-controller=\\\"Main.About\\\">\\n  <p>Version: {{info.version}}</p>\\n  <p>Commit ID: {{info.commitId}}</p>\\n  <table class=\\\"table table-striped\\\">\\n    <thead>\\n      <tr>\\n        <th>\\n          Name\\n        </th>\\n        <th>\\n          Version\\n        </th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr ng-repeat=\\\"(key, info) in info.packages\\\">\\n        <td>{{key}}</td>\\n        <td>{{info.version || \\'--\\'}}</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n\");}]); hawtioPluginLoader.addModule(\"openshift-jvm-templates\");\n/// <reference path=\"../defs.d.ts\"/>\n\n/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates\n/// and other contributors as indicated by the @author tags.\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///   http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n/// <reference path=\"../../includes.ts\"/>\n\n/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates\n/// and other contributors as indicated by the @author tags.\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///   http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n/// <reference path=\"../../includes.ts\"/>\n/// <reference path=\"exampleGlobals.ts\"/>\n\n/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates\n/// and other contributors as indicated by the @author tags.\n///\n/// Licensed under the Apache License, Version 2.0 (the \"License\");\n/// you may not use this file except in compliance with the License.\n/// You may obtain a copy of the License at\n///\n///   http://www.apache.org/licenses/LICENSE-2.0\n///\n/// Unless required by applicable law or agreed to in writing, software\n/// distributed under the License is distributed on an \"AS IS\" BASIS,\n/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n/// See the License for the specific language governing permissions and\n/// limitations under the License.\n/// <reference path=\"examplePlugin.ts\"/>\n"],"sourceRoot":"/source/"}